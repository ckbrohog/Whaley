<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Whaley</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <script src="https://cdn.tailwindcss.com"></script>

  <link rel="icon" type="image/png" href="whaley_middle.png" />
  <style>
    .pixelated{image-rendering:pixelated}

    /* shared dive animation */
    @keyframes dive{
      0%   {transform:translateY(0);      opacity:1}
      90%  {transform:translateY(120vh); opacity:1}
      100% {transform:translateY(150vh); opacity:0}
    }
    .dive{animation:dive 1.8s cubic-bezier(.42,0,.58,1) forwards}

    @keyframes fadeUp{from{opacity:0;transform:translateY(10px)}
                      to{opacity:1;transform:translateY(0)}}
    .fadeUp{animation:fadeUp .4s ease-out forwards}
  </style>
</head>

<body class="bg-gray-900 text-gray-100 flex flex-col items-center
             justify-center min-h-screen space-y-6">

  <!-- logo -->
  <img id="logo" src="whaley_middle.png"
       class="w-64 md:w-72 pixelated select-none" alt="Whaley logo" />

  <!-- tagline -->
  <p id="tagline" class="text-gray-400 text-sm">
    Your future crypto-whale dashboard
  </p>

  <!-- deep-dive trigger -->
  <button id="diveBtn"
          class="px-6 py-2 bg-emerald-600 hover:bg-emerald-500 active:bg-emerald-700
                 rounded pixelated text-sm tracking-widest">
    DEEP&nbsp;DIVE
  </button>

  <!-- post-dive UI -->
  <div id="postDive" class="hidden flex flex-col items-center space-y-4">
    <button id="harpoonBtn"
            class="px-6 py-2 bg-indigo-600 hover:bg-indigo-500 active:bg-indigo-700
                   rounded pixelated text-sm tracking-widest">
      HARPOON&nbsp;WHALE
    </button>

    <details id="trackingBox"
             class="w-64 md:w-80 bg-gray-800 rounded-lg p-4">
      <summary class="cursor-pointer outline-none select-none">
        üó∫Ô∏è Tracking (<span id="trackCount">0</span>)
      </summary>
      <ul id="trackList" class="text-xs mt-2 space-y-1"></ul>
    </details>
  </div>

<script>
  const logo   = document.getElementById('logo');
  const tag    = document.getElementById('tagline');
  const diveBtn= document.getElementById('diveBtn');
  const post   = document.getElementById('postDive');

  /* 1 ‚Äî Trigger dive on click */
  diveBtn.onclick = () =>{
    [logo, tag, diveBtn].forEach(el => el.classList.add('dive'));
    diveBtn.disabled = true;
    diveBtn.classList.add('cursor-default','opacity-50');
  };

  /* 2 ‚Äî When logo animation ends, reveal post-dive UI */
  logo.addEventListener('animationend', () =>{
    post.classList.remove('hidden');
    post.classList.add('fadeUp');
  });

  /* Harpoon tracker (unchanged) */
  const harpoonBtn = document.getElementById('harpoonBtn');
  const trackList  = document.getElementById('trackList');
  const trackCnt   = document.getElementById('trackCount');
  const tracked    = [];

  harpoonBtn.onclick = () =>{
    const id = `Whale #${tracked.length+1}`;
    tracked.push(id);
    const li = document.createElement('li');
    li.textContent = id;
    trackList.appendChild(li);
    trackCnt.textContent = tracked.length;
  };
</script>
</body>
</html>
